option_settings:
  # Java Configuration
  aws:elasticbeanstalk:container:java:
    JVMOptions: '-Xmx512m -Xms256m'
  
  # Environment Configuration
  aws:elasticbeanstalk:application:environment:
    SERVER_PORT: '5000'
    SPRING_PROFILES_ACTIVE: 'prod'
    
  # Load Balancer Health Check
  aws:elasticbeanstalk:environment:process:default:
    HealthCheckPath: /api/actuator/health
    HealthCheckInterval: '30'
    HealthCheckTimeout: '5'
    UnhealthyThresholdCount: '3'
    HealthyThresholdCount: '3'
  
  # Auto Scaling
  aws:autoscaling:asg:
    MinSize: '1'
    MaxSize: '4'
  
  aws:autoscaling:trigger:
    MeasureName: CPUUtilization
    Unit: Percent
    UpperThreshold: '75'
    LowerThreshold: '25'
  
  # Instance Configuration - Use t3.small for production
  aws:ec2:instances:
    InstanceTypes: 't3.small'
  
  # Environment Type - Load balanced
  aws:elasticbeanstalk:environment:
    EnvironmentType: LoadBalanced
    LoadBalancerType: application
  
  # Load Balancer Configuration
  aws:elbv2:loadbalancer:
    IdleTimeout: '300'
  
  # HTTPS Configuration (uncomment after adding SSL certificate)
  # aws:elbv2:listener:default:
  #   ListenerEnabled: 'false'  # Disable HTTP or keep enabled for HTTP access
  # 
  # aws:elbv2:listener:443:
  #   Protocol: HTTPS
  #   SSLCertificateArns: 'arn:aws:acm:REGION:ACCOUNT_ID:certificate/CERTIFICATE_ID'
  #   Rules: ''
  # 
  # aws:elasticbeanstalk:environment:process:https:
  #   Port: '443'
  #   Protocol: HTTPS
  
  # Rolling Updates
  aws:elasticbeanstalk:command:
    DeploymentPolicy: Rolling
    BatchSizeType: Percentage
    BatchSize: '50'
  
  # Log Configuration
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: false
    RetentionInDays: '7'

