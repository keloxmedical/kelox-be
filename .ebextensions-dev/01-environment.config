option_settings:
  # Java Configuration - Smaller for dev
  aws:elasticbeanstalk:container:java:
    JVMOptions: '-Xmx256m -Xms128m'
  
  # Environment Configuration
  aws:elasticbeanstalk:application:environment:
    SERVER_PORT: '5000'
    SPRING_PROFILES_ACTIVE: 'dev'
    
  # Load Balancer Health Check
  aws:elasticbeanstalk:environment:process:default:
    HealthCheckPath: /api/actuator/health
    HealthCheckInterval: '30'
    HealthCheckTimeout: '5'
    UnhealthyThresholdCount: '3'
    HealthyThresholdCount: '3'
  
  # Auto Scaling - Minimal for dev (cost savings)
  aws:autoscaling:asg:
    MinSize: '1'
    MaxSize: '2'
  
  # No auto-scaling trigger for dev - keep it simple
  
  # Instance Configuration - Use t3.micro for dev
  aws:ec2:instances:
    InstanceTypes: 't3.micro'
  
  # Environment Type - Load balanced to support HTTPS
  aws:elasticbeanstalk:environment:
    EnvironmentType: LoadBalanced
    LoadBalancerType: application
  
  # Load Balancer Configuration
  aws:elbv2:loadbalancer:
    IdleTimeout: '120'
  
  # HTTP to HTTPS Redirect (optional, uncomment after SSL certificate is added)
  # aws:elbv2:listener:default:
  #   ListenerEnabled: 'false'
  # 
  # aws:elbv2:listener:443:
  #   Protocol: HTTPS
  #   SSLCertificateArns: 'arn:aws:acm:REGION:ACCOUNT_ID:certificate/CERTIFICATE_ID'
  #   Rules: ''
  # 
  # aws:elasticbeanstalk:environment:process:https:
  #   Port: '443'
  #   Protocol: HTTPS
  
  # Log Configuration
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: true
    RetentionInDays: '3'

